<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script language="javascript" type="text/javascript" src="https://cdn.jsdelivr.net/npm/p5@1.4.1/lib/p5.min.js"></script>
          
    <!-- <script language="javascript" type="text/javascript" src="/sketch.js"></script> -->

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/home/pageLayoutCalc.css"> 
    <!-- <script src="/js/home/login.js" defer></script> -->
    
 </head>
<body>
    <ul class="nav nav-pills nav-fill">
          <li class="nav-item">
            <a class="nav-link active" href="/">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link " href="/">Optimal calculation: <br> Unload containers from a ship</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/logIn">Log in</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/register">Register</a>
          </li>
         
          <li class="nav-item">
            <a class="nav-link " href="/">About us/Customer service</a>
          </li>

      </ul>
          <div class="boldLetter">
            <script>
            document.write(" Welcome, user name: ");
              var userNameDisp=localStorage.getItem("textvalue");
              document.write(userNameDisp);
            </script>
          </div>
          
          <h2>Optimal solution calculation page</h2>
          <p> Our program finds the optimal solution to unload containers from a ship to the port for least time of operation process.</p>

          
          
          <!-- </div> -->
          <div class="wrapper">
            <h3> Log file Display Box</h3>
            <center>
            <table border="1">
              <thead>
        
                <tr>
                  <th>Operator Name</th>
                  <td><input type="text" name="operatorName" id="operatorName" placeholder="Type your name here"></td>
                          
                </tr>
        
              </thead>
        
              <tbody>
                <tr>
                  <th>Log message</th>
                  <td><input type="text" name="logNote" id="logNote" placeholder="Leave your message here"></td>
                            
                </tr>
        
                
        
                <tr id="buttonClick">
                            <div id="timeStamp"></div>
                  <td colspan="2"><input type="button" class="btn btn-primary" name="button" id="btn" value="Create Log message" onclick="rowCreation()"></td>
                </tr>
              </tbody>
            </table>
        
            <table border="1" border-style="round" id="tableDisp">
              <thead>
                <tr>
                  <th>Operator Name </th>
                  <th>Log message</th>
                  <th>Time stamp</th>
                </tr>
              </thead>
            </table>
           </center>
          
          <script>
              
            let listOperator = [];
            let listLog = [];
                let  listTime = [];
            
        
            var i = 1;
            var j = 0;
        
            function rowCreation(){
        
              var rowAdd = document.getElementById('tableDisp');
              var NewRow = rowAdd.insertRow(i);
                   // var timeStamp2= document.getElementById("timeStamp");
        
                    //nice job!
                    document.getElementById("timeStamp").value= new Date(document.lastModified);
        
                    listOperator[j] = document.getElementById("opertorName").value;
                    listLog[j] = document.getElementById("logNote").value;
                          
                        
                          
                          // <div id="timeStamp"></div>
                    // <div id="timeStamp"></div>
              
                    listTime[j] = document.getElementById("timeStamp").value;
              
                      var tile01 = NewRow.insertCell(0);
                      var tile02 = NewRow.insertCell(1);
                            var tile03 = NewRow.insertCell(2);
            
        
                      tile01.innerHTML = listOperator[j];
                      tile02.innerHTML = listLog[j];
                      tile03.innerHTML = listTime[j];
                    
        
              i++;
              j++;

            }

                // case2. for log file
                // const fileBtnEvent= document.getElementById("fileBtn");
                // fileBtnEvent.onclick = function(event){
                //   console.log("File button Clicked")
                // };
                function logFileMsgAlertTextFile(){
                  var rowAdd2 = document.getElementById('tableDisp');
                  var NewRow2 = rowAdd2.insertRow(i);
                   // var timeStamp2= document.getElementById("timeStamp");
        
                    //nice job!
                    document.getElementById("timeStamp").value= new Date(document.lastModified);
        
                    //  //id="operatorName"  id="logNote"
                    var shipName="ship_test";
                    var logMsgFileAlert="Manifest Text file is uploaded.";
                    listOperator[j] = shipName;
                    listLog[j] = logMsgFileAlert;
                          
                        
                          
                          // <div id="timeStamp"></div>
                    // <div id="timeStamp"></div>
              
                    listTime[j] = document.getElementById("timeStamp").value;

                    i++;
                    j++;


                }
              


            
          //  
            </script>
            </div>
           
            <button id="fileBtn" onclick="openingFile()" >Open</button>
            <div id="fileDisp">File Display Box</div>

            <script>
                  function openingFile(){
                    // make sure: 'input' varName is now allowed to be changed
                  var input = document.createElement("input");
                  
                  // console.log(textInput);
                  input.type = "file";
                  // setting inputFile Type
                  input.accept = "text/plain, text/html";

                  input.click();
                  input.onchange = function (event) {
                    // when there is onchange, we run fuction 'upLoadingFile'
                          uploadingFile(event.target.files[0]);
                      };
                      
                }


                function uploadingFile(file){
                  var fileReader = new FileReader();
                  fileReader.readAsText(file,"UTF-8");
                  
                  fileReader.onload = function () {
                    fileDisp.innerText = fileReader.result;
                    console.log("Text File is uploaded")
                      logFileMsgAlertTextFile();
                  };
                }


                  // function fileBtnClickedLogFile(event){
           
                  // };

                


                // const fileBtnEvent= document.getElementById("fileBtn");
                // fileBtnEvent.onclick = function(event){
                //   console.log("File button Clicked")
                // };

          </script>
        <!--  -->
         

      <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
</body>
</html>  